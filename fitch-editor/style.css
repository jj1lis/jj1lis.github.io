/* NOTE --- 全体の設定 --- */

body {
    font-family: sans-serif;
    display: flex;
    flex-direction: column; /* 縦方向に要素を並べる */
    gap: 1em; /* 要素間の余白 */
    padding: 1em;
    background-color: #f7f7f7; /* 背景色を少し追加 */
}

.editor, .output {
    padding: 1em;
    border: 1px solid #ddd;
    border-radius: 8px;
    background-color: #fff; /* 背景を白に */
    box-shadow: 0 2px 4px rgba(0,0,0,0.05); /* 影を追加 */
}

.proof-line {
    display: flex;
    align-items: center;
    margin-bottom: 5px;
}

.line-controls {
    display: flex;
    align-items: center;
    margin-right: 8px;
}

.line-content {
    flex-grow: 1;
}

.line-content input {
    width: calc(100% - 16px);
    padding: 6px 8px; /* 少しパディングを増やす */
    border: 1px solid #ccc;
    border-radius: 4px;
}

.line-content input:first-child {
    margin-bottom: 2px;
}

button {
    cursor: pointer;
    padding: 6px 12px;
    border: 1px solid #ccc;
    background-color: #e9e9e9;
    border-radius: 4px;
    transition: background-color 0.2s;
}

button:hover {
    background-color: #ddd;
}

/* ネストの深さを表現するインデント */
.level-0 { margin-left: 0px; }
.level-1 { margin-left: 40px; }
.level-2 { margin-left: 80px; }
.level-3 { margin-left: 120px; }
.level-4 { margin-left: 160px; }

/* 表示用のクラス */
#notification.show {
  opacity: 1;
  transform: translateY(0);
  pointer-events: auto; /* マウス操作を受け付ける */
}

/* NOTE --- Fitch形式の線 スタイル --- */

/* 行全体のフレックスボックス設定を調整 */
.proof-line {
    display: flex;
    align-items: stretch; /* 高さを揃える */
    margin-bottom: 0;
}

/* 行番号と入力欄をまとめるコンテナ */
.line-main-content {
    display: flex;
    align-items: center;
    gap: 8px;
    flex-grow: 1;
    border-bottom: 1px solid #eee;
    padding: 5px 0;
}

.line-options {
    display: flex;
    align-items: center;
    gap: 4px;
    white-space: nowrap; /* "Assumption"が改行しないように */
}

/* 縦線・横線を格納するコンテナ */
.line-bars-container {
    display: flex;
    flex-shrink: 0;
    width: auto;
}

/* 縦線一本分のスタイル */
.line-bar {
    width: 20px; /* 1レベルあたりの幅 */
    border-right: 1.5px solid #888; /* 縦線の本体 */
    flex-shrink: 0;
}

/* 新しいスタイルを追加 */
.line-main-content.assumption-line {
  border-bottom: 1.5px solid #888;
}

/* NOTE --- 仮定エリアのスタイル --- */

/* チェックボックスとラベルを含むエリア全体をクリック可能にする */
.line-options {
  position: relative; /* 子要素の配置の基準とする */
  cursor: pointer;
  -webkit-user-select: none; /* テキスト選択を無効化 */
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* 1. 元のチェックボックスを非表示にする */
.line-options input[type="checkbox"] {
  position: absolute;
  opacity: 0;
  cursor: pointer;
  height: 0;
  width: 0;
}

/* 2. チェックボックスの「ボックス」部分を自作する */
.line-options label::before {
  content: '';
  display: inline-block;
  vertical-align: middle; /* 文字と高さを揃える */
  width: 16px;  /* サイズを大きく */
  height: 16px;
  margin-right: 6px; /* 文字との間隔 */
  background-color: #fff;
  border: 2px solid #ccc; /* 枠線 */
  border-radius: 4px; /* 少し角を丸く */
  transition: background-color 0.2s, border-color 0.2s;
}

/* 3. チェックされた時の「ボックス」のスタイル */
.line-options input[type="checkbox"]:checked + label::before {
  background-color: #2a75d2; /* 色を変更 */
  border-color: #2a75d2;
}

/* 4. 「チェックマーク」を自作する */
.line-options label::after {
  content: '';
  position: absolute;
  /* 位置をボックスの中央に微調整 */
  left: 6px;
  top: 4px;
  
  /* L字型を作って45度回転させることでチェックマークに見せる */
  width: 5px;
  height: 10px;
  border: solid white;
  border-width: 0 3px 3px 0;
  transform: rotate(45deg);

  /* 普段は非表示にしておく */
  opacity: 0;
  transition: opacity 0.2s;
}

/* 5. チェックされた時に「チェックマーク」を表示する */
.line-options input[type="checkbox"]:checked + label::after {
  opacity: 1;
}

/* NOTE --- 通知ポップアップのスタイル --- */
#notification {
  position: fixed; /* 画面に固定 */
  bottom: 20px;
  right: 20px;
  background-color: #333; /* 背景色 */
  color: white; /* 文字色 */
  padding: 12px 20px;
  border-radius: 6px;
  box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  
  /* 普段は透明で見えなくしておく */
  opacity: 0;
  transform: translateY(10px);
  transition: opacity 0.3s, transform 0.3s;
  
  /* マウス操作を透過させる */
  pointer-events: none; 
}
